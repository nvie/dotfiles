#!/bin/sh
set -eu

usage () {
  echo "Usage: $(basename $0)" >&2
  echo "Lists all workspace directories in this repo." >&2
}

while getopts "h" flag; do
  case $flag in
    h) usage; exit 0 ;;
    *) usage; exit 1 ;;
  esac
done
shift $((OPTIND - 1))

if [ "$#" -gt 0 ]; then
  echo "Too many arguments: $@" >&2
  exit 1
fi

npm query .workspace --json | jq -r .[].location
